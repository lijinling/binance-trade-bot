# Торговый бот Binance
> Автоматизированный бот для торговли криптовалютой

[English](README.md) | [简体中文](README.zh-CN.md) | [Español](README.es.md) | [العربية](README.ar.md) | [हिन्दी](README.hi.md) | [Português](README.pt.md) | [Русский](README.ru.md) | [বাংলা](README.bn.md) | [Français](README.fr.md) | [Indonesia](README.id.md)

![github](https://img.shields.io/github/workflow/status/edeng23/binance-trade-bot/binance-trade-bot)
![docker](https://img.shields.io/docker/pulls/edeng23/binance-trade-bot)
[![Deploy](https://www.herokucdn.com/deploy/button.svg)](https://heroku.com/deploy?template=https://github.com/edeng23/binance-trade-bot)

[![Deploy to DO](https://mp-assets1.sfo2.digitaloceanspaces.com/deploy-to-do/do-btn-blue.svg)](https://cloud.digitalocean.com/apps/new?repo=https://github.com/coinbookbrasil/binance-trade-bot/tree/master&refcode=a076ff7a9a6a)

## Подпишитесь на меня в Twitter :)

[![Twitter](https://img.shields.io/twitter/url/https/twitter.com/cloudposse.svg?style=social&label=Follow%20%400xedeng)](https://twitter.com/0xedeng)

## Почему?

Этот проект был вдохновлен наблюдением, что все криптовалюты ведут себя практически одинаково. Когда одна растет, растут все, и когда одна падает, падают все. _Практически_. Более того, все монеты следуют за биткоином; разница в их фазовом сдвиге.

Поэтому, если монеты в основном колеблются относительно друг друга, кажется разумным обменивать растущую монету на падающую, а затем обменивать обратно, когда соотношение меняется на противоположное.

## Как?

Торговля осуществляется на платформе Binance, которая, конечно, не имеет рынков для каждой пары альткоинов. Решением является использование мостовой валюты, которая дополнит отсутствующие пары. По умолчанию мостовой валютой является Tether (USDT), который стабилен по дизайну и совместим практически со всеми монетами на платформе.

<p align="center">
  Монета A → USDT → Монета B
</p>

Бот использует наблюдаемое поведение, всегда переходя от "сильной" монеты к "слабой", предполагая, что в какой-то момент ситуация изменится. Затем он вернется к исходной монете, в итоге имея больше, чем было изначально. Это делается с учетом торговых комиссий.

<div align="center">
  <p><b>Монета A</b> → USDT → Монета B</p>
  <p>Монета B → USDT → Монета C</p>
  <p>...</p>
  <p>Монета C → USDT → <b>Монета A</b></p>
</div>

Бот перемещается между настроенным набором монет при условии, что он не возвращается к монете, пока это не станет выгодным по отношению к последнему удерживаемому количеству. Это означает, что мы никогда не закончим с меньшим количеством определенной монеты. Риск заключается в том, что одна из монет может внезапно обрушиться относительно других, привлекая наш обратный жадный алгоритм.

## Настройка Binance

- Создайте [аккаунт Binance](https://www.binance.com/en/register?ref=129471815) (Включает мою реферальную ссылку, буду очень благодарен, если вы ее используете).
- Включите двухфакторную аутентификацию.
- Создайте новый API ключ.
- Получите криптовалюту. Если ее символ не входит в список по умолчанию, добавьте его.

## Настройка инструмента

### Установка зависимостей Python

Выполните следующую строку в терминале: `pip install -r requirements.txt`.

### Создание пользовательской конфигурации

Создайте файл .cfg с именем `user.cfg` на основе `.user.cfg.example`, затем добавьте ваши API ключи и текущую монету.

**Файл конфигурации содержит следующие поля:**

- **api_key** - API ключ Binance, сгенерированный на этапе настройки аккаунта Binance.
- **api_secret_key** - Секретный ключ Binance, сгенерированный на этапе настройки аккаунта Binance.
- **current_coin** - Это ваша начальная монета по выбору. Она должна быть одной из монет из вашего списка поддерживаемых монет. Если вы хотите начать с вашей мостовой валюты, оставьте это поле пустым - бот выберет случайную монету из вашего списка поддерживаемых монет и купит ее.
- **bridge** - Ваша мостовая валюта по выбору. Обратите внимание, что разные мосты позволят использовать разные наборы поддерживаемых монет. Например, может существовать пара конкретная-монета/USDT, но не существовать пары конкретная-монета/BUSD.
- **tld** - 'com' или 'us', в зависимости от вашего региона. По умолчанию 'com'.
- **hourToKeepScoutHistory** - Контролирует, сколько часов значений разведки хранится в базе данных. После указанного времени информация будет удалена.
- **scout_sleep_time** - Контролирует, сколько секунд ожидания между каждой разведкой.
- **use_margin** - 'yes' для использования scout_margin. 'no' для использования scout_multiplier.
- **scout_multiplier** - Контролирует значение, на которое умножается разница между текущим состоянием соотношений монет и предыдущим состоянием соотношений. Для больших значений бот будет ждать большей маржи перед совершением сделки.
- **scout_margin** - Минимальный процент прибыли монеты за сделку. 0.8 переводится в множитель разведки 5 при комиссии 0.1%.
- **strategy** - Используемая торговая стратегия. См. [`binance_trade_bot/strategies`](binance_trade_bot/strategies/README.md) для получения дополнительной информации.
- **buy_timeout/sell_timeout** - Контролирует, сколько минут ждать перед отменой лимитного ордера (покупка/продажа) и возвращением в режим "разведки". 0 означает, что ордер никогда не будет отменен преждевременно.
- **scout_sleep_time** - Контролирует, сколько секунд бот должен ждать между анализами текущих цен. Поскольку бот теперь работает на websockets, это значение должно быть установлено на что-то низкое (например, 1), причины установить его выше 1 - когда вы наблюдаете высокое использование CPU ботом или получаете ошибки API о лимите веса запросов.

#### Переменные окружения

Все опции, предоставленные в `user.cfg`, также могут быть настроены с помощью переменных окружения.

```
CURRENT_COIN_SYMBOL:
SUPPORTED_COIN_LIST: "XLM TRX ICX EOS IOTA ONT QTUM ETC ADA XMR DASH NEO ATOM DOGE VET BAT OMG BTT"
BRIDGE_SYMBOL: USDT
API_KEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A
API_SECRET_KEY: NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j
SCOUT_MULTIPLIER: 5
SCOUT_SLEEP_TIME: 1
TLD: com
STRATEGY: default
BUY_TIMEOUT: 0
SELL_TIMEOUT: 0
```

### Оплата комиссий с помощью BNB
Вы можете [использовать BNB для оплаты любых комиссий на платформе Binance](https://www.binance.com/en/support/faq/115000583311-Using-BNB-to-Pay-for-Fees), что уменьшит все комиссии на 25%. Для поддержки этого преимущества бот всегда будет выполнять следующие операции:
- Автоматически определять, включена ли у вас оплата комиссий BNB.
- Убедиться, что у вас достаточно BNB на счету для оплаты комиссии проверяемой сделки.
- Учитывать скидку при расчете торгового порога.

### Уведомления с Apprise

Apprise позволяет боту отправлять уведомления во все самые популярные доступные сервисы уведомлений, такие как: Telegram, Discord, Slack, Amazon SNS, Gotify и т.д.

Для настройки этого вам нужно создать файл apprise.yml в директории config.

Существует пример версии этого файла, чтобы помочь вам начать.

Если вы заинтересованы в запуске бота Telegram, дополнительную информацию можно найти в [официальной документации Telegram](https://core.telegram.org/bots).

### Запуск

```shell
python -m binance_trade_bot
```

### Docker

Официальный образ доступен [здесь](https://hub.docker.com/r/edeng23/binance-trade-bot) и будет обновляться с каждым новым изменением.

```shell
docker-compose up
```

Если вы хотите запустить только браузер SQLite

```shell
docker-compose up -d sqlitebrowser
```

## Бэктестинг

Вы можете протестировать бота на исторических данных, чтобы увидеть, как он себя ведет.

```shell
python backtest.py
```

Не стесняйтесь модифицировать этот файл для тестирования и сравнения различных настроек и периодов времени.

## Разработка

Чтобы убедиться, что ваш код правильно отформатирован перед созданием pull request,
не забудьте установить [pre-commit](https://pre-commit.com/):

```shell
pip install pre-commit
pre-commit install
```

Алгоритм разведки вряд ли будет изменен. Если вы хотите внести свой вклад альтернативным методом, [добавьте новую стратегию](binance_trade_bot/strategies/README.md).

## Связанные проекты

Благодаря группе талантливых разработчиков, теперь есть [бот Telegram для удаленного управления этим проектом](https://github.com/lorcalhost/BTB-manager-telegram).

## Поддержите проект

<a href="https://www.buymeacoffee.com/edeng" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" height="41" width="174"></a>

## Присоединяйтесь к чату

- **Discord**: [Пригласительная ссылка](https://discord.gg/m4TNaxreCN)

## Часто задаваемые вопросы

Список ответов на вопросы, которые кажутся наиболее часто задаваемыми, можно найти на нашем сервере Discord в соответствующем канале.

<p align="center">
  <img src = "https://usercontent2.hubstatic.com/6061829.jpg">
</p>

## Отказ от ответственности

Этот проект предназначен только для информационных целей. Вы не должны рассматривать любую
информацию или другой материал как юридическую, налоговую, инвестиционную, финансовую или
другую консультацию. Ничто из содержащегося здесь не является предложением, рекомендацией,
одобрением или предложением от меня или любого стороннего поставщика услуг покупать или продавать
какие-либо ценные бумаги или другие финансовые инструменты в этой или любой другой
юрисдикции, где такое предложение было бы незаконным в соответствии с
законами о ценных бумагах этой юрисдикции.

Если вы планируете использовать реальные деньги, ИСПОЛЬЗУЙТЕ ИХ НА СВОЙ РИСК.

Ни при каких обстоятельствах я не буду нести ответственность за любые
претензии, убытки, ущерб, расходы, затраты или обязательства любого рода, включая,
без ограничений, любые прямые или косвенные убытки за потерю прибыли. 